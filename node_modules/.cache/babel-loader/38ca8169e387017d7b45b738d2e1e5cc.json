{"ast":null,"code":"import \"./App.css\";\nimport { useEffect } from \"react\";\nimport { fabric } from \"fabric\";\n\nfunction App() {\n  (function () {\n    var $ = function (id) {\n      return document.getElementById(id);\n    };\n\n    var canvas = this.__canvas = new fabric.Canvas('c', {\n      isDrawingMode: true\n    });\n    fabric.Object.prototype.transparentCorners = false;\n    var drawingModeEl = $('drawing-mode'),\n        drawingOptionsEl = $('drawing-mode-options'),\n        drawingColorEl = $('drawing-color'),\n        drawingShadowColorEl = $('drawing-shadow-color'),\n        drawingLineWidthEl = $('drawing-line-width'),\n        drawingShadowWidth = $('drawing-shadow-width'),\n        drawingShadowOffset = $('drawing-shadow-offset'),\n        clearEl = $('clear-canvas');\n\n    clearEl.onclick = function () {\n      canvas.clear();\n    };\n\n    drawingModeEl.onclick = function () {\n      canvas.isDrawingMode = !canvas.isDrawingMode;\n\n      if (canvas.isDrawingMode) {\n        drawingModeEl.innerHTML = 'Cancel drawing mode';\n        drawingOptionsEl.style.display = '';\n      } else {\n        drawingModeEl.innerHTML = 'Enter drawing mode';\n        drawingOptionsEl.style.display = 'none';\n      }\n    };\n\n    if (fabric.PatternBrush) {\n      var vLinePatternBrush = new fabric.PatternBrush(canvas);\n\n      vLinePatternBrush.getPatternSrc = function () {\n        var patternCanvas = fabric.document.createElement('canvas');\n        patternCanvas.width = patternCanvas.height = 10;\n        var ctx = patternCanvas.getContext('2d');\n        ctx.strokeStyle = this.color;\n        ctx.lineWidth = 5;\n        ctx.beginPath();\n        ctx.moveTo(0, 5);\n        ctx.lineTo(10, 5);\n        ctx.closePath();\n        ctx.stroke();\n        return patternCanvas;\n      };\n\n      var hLinePatternBrush = new fabric.PatternBrush(canvas);\n\n      hLinePatternBrush.getPatternSrc = function () {\n        var patternCanvas = fabric.document.createElement('canvas');\n        patternCanvas.width = patternCanvas.height = 10;\n        var ctx = patternCanvas.getContext('2d');\n        ctx.strokeStyle = this.color;\n        ctx.lineWidth = 5;\n        ctx.beginPath();\n        ctx.moveTo(5, 0);\n        ctx.lineTo(5, 10);\n        ctx.closePath();\n        ctx.stroke();\n        return patternCanvas;\n      };\n\n      var squarePatternBrush = new fabric.PatternBrush(canvas);\n\n      squarePatternBrush.getPatternSrc = function () {\n        var squareWidth = 10,\n            squareDistance = 2;\n        var patternCanvas = fabric.document.createElement('canvas');\n        patternCanvas.width = patternCanvas.height = squareWidth + squareDistance;\n        var ctx = patternCanvas.getContext('2d');\n        ctx.fillStyle = this.color;\n        ctx.fillRect(0, 0, squareWidth, squareWidth);\n        return patternCanvas;\n      };\n\n      var diamondPatternBrush = new fabric.PatternBrush(canvas);\n\n      diamondPatternBrush.getPatternSrc = function () {\n        var squareWidth = 10,\n            squareDistance = 5;\n        var patternCanvas = fabric.document.createElement('canvas');\n        var rect = new fabric.Rect({\n          width: squareWidth,\n          height: squareWidth,\n          angle: 45,\n          fill: this.color\n        });\n        var canvasWidth = rect.getBoundingRect().width;\n        patternCanvas.width = patternCanvas.height = canvasWidth + squareDistance;\n        rect.set({\n          left: canvasWidth / 2,\n          top: canvasWidth / 2\n        });\n        var ctx = patternCanvas.getContext('2d');\n        rect.render(ctx);\n        return patternCanvas;\n      };\n\n      var img = new Image();\n      img.src = '../assets/honey_im_subtle.png';\n      var texturePatternBrush = new fabric.PatternBrush(canvas);\n      texturePatternBrush.source = img;\n    }\n\n    $('drawing-mode-selector').onchange = function () {\n      if (this.value === 'hline') {\n        canvas.freeDrawingBrush = vLinePatternBrush;\n      } else if (this.value === 'vline') {\n        canvas.freeDrawingBrush = hLinePatternBrush;\n      } else if (this.value === 'square') {\n        canvas.freeDrawingBrush = squarePatternBrush;\n      } else if (this.value === 'diamond') {\n        canvas.freeDrawingBrush = diamondPatternBrush;\n      } else if (this.value === 'texture') {\n        canvas.freeDrawingBrush = texturePatternBrush;\n      } else {\n        canvas.freeDrawingBrush = new fabric[this.value + 'Brush'](canvas);\n      }\n\n      if (canvas.freeDrawingBrush) {\n        var brush = canvas.freeDrawingBrush;\n        brush.color = drawingColorEl.value;\n\n        if (brush.getPatternSrc) {\n          brush.source = brush.getPatternSrc.call(brush);\n        }\n\n        brush.width = parseInt(drawingLineWidthEl.value, 10) || 1;\n        brush.shadow = new fabric.Shadow({\n          blur: parseInt(drawingShadowWidth.value, 10) || 0,\n          offsetX: 0,\n          offsetY: 0,\n          affectStroke: true,\n          color: drawingShadowColorEl.value\n        });\n      }\n    };\n\n    drawingColorEl.onchange = function () {\n      var brush = canvas.freeDrawingBrush;\n      brush.color = this.value;\n\n      if (brush.getPatternSrc) {\n        brush.source = brush.getPatternSrc.call(brush);\n      }\n    };\n\n    drawingShadowColorEl.onchange = function () {\n      canvas.freeDrawingBrush.shadow.color = this.value;\n    };\n\n    drawingLineWidthEl.onchange = function () {\n      canvas.freeDrawingBrush.width = parseInt(this.value, 10) || 1;\n      this.previousSibling.innerHTML = this.value;\n    };\n\n    drawingShadowWidth.onchange = function () {\n      canvas.freeDrawingBrush.shadow.blur = parseInt(this.value, 10) || 0;\n      this.previousSibling.innerHTML = this.value;\n    };\n\n    drawingShadowOffset.onchange = function () {\n      canvas.freeDrawingBrush.shadow.offsetX = parseInt(this.value, 10) || 0;\n      canvas.freeDrawingBrush.shadow.offsetY = parseInt(this.value, 10) || 0;\n      this.previousSibling.innerHTML = this.value;\n    };\n\n    if (canvas.freeDrawingBrush) {\n      canvas.freeDrawingBrush.color = drawingColorEl.value;\n      canvas.freeDrawingBrush.source = canvas.freeDrawingBrush.getPatternSrc.call(this);\n      canvas.freeDrawingBrush.width = parseInt(drawingLineWidthEl.value, 10) || 1;\n      canvas.freeDrawingBrush.shadow = new fabric.Shadow({\n        blur: parseInt(drawingShadowWidth.value, 10) || 0,\n        offsetX: 0,\n        offsetY: 0,\n        affectStroke: true,\n        color: drawingShadowColorEl.value\n      });\n    }\n  })();\n}\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/haleel/Downloads/Vidyalai font-end task/frontend-task/src/App.js"],"names":["useEffect","fabric","App","$","id","document","getElementById","canvas","__canvas","Canvas","isDrawingMode","Object","prototype","transparentCorners","drawingModeEl","drawingOptionsEl","drawingColorEl","drawingShadowColorEl","drawingLineWidthEl","drawingShadowWidth","drawingShadowOffset","clearEl","onclick","clear","innerHTML","style","display","PatternBrush","vLinePatternBrush","getPatternSrc","patternCanvas","createElement","width","height","ctx","getContext","strokeStyle","color","lineWidth","beginPath","moveTo","lineTo","closePath","stroke","hLinePatternBrush","squarePatternBrush","squareWidth","squareDistance","fillStyle","fillRect","diamondPatternBrush","rect","Rect","angle","fill","canvasWidth","getBoundingRect","set","left","top","render","img","Image","src","texturePatternBrush","source","onchange","value","freeDrawingBrush","brush","call","parseInt","shadow","Shadow","blur","offsetX","offsetY","affectStroke","previousSibling"],"mappings":"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","sourcesContent":["import \"./App.css\";\nimport { useEffect } from \"react\";\nimport { fabric } from \"fabric\";\n\nfunction App() {\n  (function() {\n    var $ = function(id){return document.getElementById(id)};\n  \n    var canvas = this.__canvas = new fabric.Canvas('c', {\n      isDrawingMode: true\n    });\n  \n    fabric.Object.prototype.transparentCorners = false;\n  \n    var drawingModeEl = $('drawing-mode'),\n        drawingOptionsEl = $('drawing-mode-options'),\n        drawingColorEl = $('drawing-color'),\n        drawingShadowColorEl = $('drawing-shadow-color'),\n        drawingLineWidthEl = $('drawing-line-width'),\n        drawingShadowWidth = $('drawing-shadow-width'),\n        drawingShadowOffset = $('drawing-shadow-offset'),\n        clearEl = $('clear-canvas');\n  \n    clearEl.onclick = function() { canvas.clear() };\n  \n    drawingModeEl.onclick = function() {\n      canvas.isDrawingMode = !canvas.isDrawingMode;\n      if (canvas.isDrawingMode) {\n        drawingModeEl.innerHTML = 'Cancel drawing mode';\n        drawingOptionsEl.style.display = '';\n      }\n      else {\n        drawingModeEl.innerHTML = 'Enter drawing mode';\n        drawingOptionsEl.style.display = 'none';\n      }\n    };\n  \n    if (fabric.PatternBrush) {\n      var vLinePatternBrush = new fabric.PatternBrush(canvas);\n      vLinePatternBrush.getPatternSrc = function() {\n  \n        var patternCanvas = fabric.document.createElement('canvas');\n        patternCanvas.width = patternCanvas.height = 10;\n        var ctx = patternCanvas.getContext('2d');\n  \n        ctx.strokeStyle = this.color;\n        ctx.lineWidth = 5;\n        ctx.beginPath();\n        ctx.moveTo(0, 5);\n        ctx.lineTo(10, 5);\n        ctx.closePath();\n        ctx.stroke();\n  \n        return patternCanvas;\n      };\n  \n      var hLinePatternBrush = new fabric.PatternBrush(canvas);\n      hLinePatternBrush.getPatternSrc = function() {\n  \n        var patternCanvas = fabric.document.createElement('canvas');\n        patternCanvas.width = patternCanvas.height = 10;\n        var ctx = patternCanvas.getContext('2d');\n  \n        ctx.strokeStyle = this.color;\n        ctx.lineWidth = 5;\n        ctx.beginPath();\n        ctx.moveTo(5, 0);\n        ctx.lineTo(5, 10);\n        ctx.closePath();\n        ctx.stroke();\n  \n        return patternCanvas;\n      };\n  \n      var squarePatternBrush = new fabric.PatternBrush(canvas);\n      squarePatternBrush.getPatternSrc = function() {\n  \n        var squareWidth = 10, squareDistance = 2;\n  \n        var patternCanvas = fabric.document.createElement('canvas');\n        patternCanvas.width = patternCanvas.height = squareWidth + squareDistance;\n        var ctx = patternCanvas.getContext('2d');\n  \n        ctx.fillStyle = this.color;\n        ctx.fillRect(0, 0, squareWidth, squareWidth);\n  \n        return patternCanvas;\n      };\n  \n      var diamondPatternBrush = new fabric.PatternBrush(canvas);\n      diamondPatternBrush.getPatternSrc = function() {\n  \n        var squareWidth = 10, squareDistance = 5;\n        var patternCanvas = fabric.document.createElement('canvas');\n        var rect = new fabric.Rect({\n          width: squareWidth,\n          height: squareWidth,\n          angle: 45,\n          fill: this.color\n        });\n  \n        var canvasWidth = rect.getBoundingRect().width;\n  \n        patternCanvas.width = patternCanvas.height = canvasWidth + squareDistance;\n        rect.set({ left: canvasWidth / 2, top: canvasWidth / 2 });\n  \n        var ctx = patternCanvas.getContext('2d');\n        rect.render(ctx);\n  \n        return patternCanvas;\n      };\n  \n      var img = new Image();\n      img.src = '../assets/honey_im_subtle.png';\n  \n      var texturePatternBrush = new fabric.PatternBrush(canvas);\n      texturePatternBrush.source = img;\n    }\n  \n    $('drawing-mode-selector').onchange = function() {\n  \n      if (this.value === 'hline') {\n        canvas.freeDrawingBrush = vLinePatternBrush;\n      }\n      else if (this.value === 'vline') {\n        canvas.freeDrawingBrush = hLinePatternBrush;\n      }\n      else if (this.value === 'square') {\n        canvas.freeDrawingBrush = squarePatternBrush;\n      }\n      else if (this.value === 'diamond') {\n        canvas.freeDrawingBrush = diamondPatternBrush;\n      }\n      else if (this.value === 'texture') {\n        canvas.freeDrawingBrush = texturePatternBrush;\n      }\n      else {\n        canvas.freeDrawingBrush = new fabric[this.value + 'Brush'](canvas);\n      }\n  \n      if (canvas.freeDrawingBrush) {\n        var brush = canvas.freeDrawingBrush;\n        brush.color = drawingColorEl.value;\n        if (brush.getPatternSrc) {\n          brush.source = brush.getPatternSrc.call(brush);\n        }\n        brush.width = parseInt(drawingLineWidthEl.value, 10) || 1;\n        brush.shadow = new fabric.Shadow({\n          blur: parseInt(drawingShadowWidth.value, 10) || 0,\n          offsetX: 0,\n          offsetY: 0,\n          affectStroke: true,\n          color: drawingShadowColorEl.value,\n        });\n      }\n    };\n  \n    drawingColorEl.onchange = function() {\n      var brush = canvas.freeDrawingBrush;\n      brush.color = this.value;\n      if (brush.getPatternSrc) {\n        brush.source = brush.getPatternSrc.call(brush);\n      }\n    };\n    drawingShadowColorEl.onchange = function() {\n      canvas.freeDrawingBrush.shadow.color = this.value;\n    };\n    drawingLineWidthEl.onchange = function() {\n      canvas.freeDrawingBrush.width = parseInt(this.value, 10) || 1;\n      this.previousSibling.innerHTML = this.value;\n    };\n    drawingShadowWidth.onchange = function() {\n      canvas.freeDrawingBrush.shadow.blur = parseInt(this.value, 10) || 0;\n      this.previousSibling.innerHTML = this.value;\n    };\n    drawingShadowOffset.onchange = function() {\n      canvas.freeDrawingBrush.shadow.offsetX = parseInt(this.value, 10) || 0;\n      canvas.freeDrawingBrush.shadow.offsetY = parseInt(this.value, 10) || 0;\n      this.previousSibling.innerHTML = this.value;\n    };\n  \n    if (canvas.freeDrawingBrush) {\n      canvas.freeDrawingBrush.color = drawingColorEl.value;\n      canvas.freeDrawingBrush.source = canvas.freeDrawingBrush.getPatternSrc.call(this);\n      canvas.freeDrawingBrush.width = parseInt(drawingLineWidthEl.value, 10) || 1;\n      canvas.freeDrawingBrush.shadow = new fabric.Shadow({\n        blur: parseInt(drawingShadowWidth.value, 10) || 0,\n        offsetX: 0,\n        offsetY: 0,\n        affectStroke: true,\n        color: drawingShadowColorEl.value,\n      });\n    }\n  })();\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}