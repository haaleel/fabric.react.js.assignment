{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/haleel/Downloads/Vidyalai font-end task/frontend-task/src/App.js\",\n    _s = $RefreshSig$();\n\nimport \"./App.css\";\nimport { useEffect } from \"react\";\nimport { fabric } from \"fabric\";\n\nfunction App() {\n  _s();\n\n  useEffect(() => {\n    const canvas = new fabric.Canvas(\"canvas\");\n    canvas.setHeight(window.innerHeight);\n    canvas.setWidth(window.innerWidth);\n    canvas.isDrawingMode = true;\n    canvas.freeDrawingBrush.width = 3;\n    canvas.freeDrawingBrush.color = \"#0052cc\";\n  }, []);\n\n  (function () {\n    var $ = function (id) {\n      return document.getElementById(id);\n    };\n\n    var canvas = this.__canvas = new fabric.Canvas('c', {\n      isDrawingMode: true\n    });\n    fabric.Object.prototype.transparentCorners = false;\n    var drawingModeEl = $('drawing-mode'),\n        drawingOptionsEl = $('drawing-mode-options'),\n        drawingColorEl = $('drawing-color'),\n        drawingShadowColorEl = $('drawing-shadow-color'),\n        drawingLineWidthEl = $('drawing-line-width'),\n        drawingShadowWidth = $('drawing-shadow-width'),\n        drawingShadowOffset = $('drawing-shadow-offset'),\n        clearEl = $('clear-canvas');\n\n    clearEl.onclick = function () {\n      canvas.clear();\n    };\n\n    drawingModeEl.onclick = function () {\n      canvas.isDrawingMode = !canvas.isDrawingMode;\n\n      if (canvas.isDrawingMode) {\n        drawingModeEl.innerHTML = 'Cancel drawing mode';\n        drawingOptionsEl.style.display = '';\n      } else {\n        drawingModeEl.innerHTML = 'Enter drawing mode';\n        drawingOptionsEl.style.display = 'none';\n      }\n    };\n\n    if (fabric.PatternBrush) {\n      var vLinePatternBrush = new fabric.PatternBrush(canvas);\n\n      vLinePatternBrush.getPatternSrc = function () {\n        var patternCanvas = fabric.document.createElement('canvas');\n        patternCanvas.width = patternCanvas.height = 10;\n        var ctx = patternCanvas.getContext('2d');\n        ctx.strokeStyle = this.color;\n        ctx.lineWidth = 5;\n        ctx.beginPath();\n        ctx.moveTo(0, 5);\n        ctx.lineTo(10, 5);\n        ctx.closePath();\n        ctx.stroke();\n        return patternCanvas;\n      };\n\n      var hLinePatternBrush = new fabric.PatternBrush(canvas);\n\n      hLinePatternBrush.getPatternSrc = function () {\n        var patternCanvas = fabric.document.createElement('canvas');\n        patternCanvas.width = patternCanvas.height = 10;\n        var ctx = patternCanvas.getContext('2d');\n        ctx.strokeStyle = this.color;\n        ctx.lineWidth = 5;\n        ctx.beginPath();\n        ctx.moveTo(5, 0);\n        ctx.lineTo(5, 10);\n        ctx.closePath();\n        ctx.stroke();\n        return patternCanvas;\n      };\n\n      var squarePatternBrush = new fabric.PatternBrush(canvas);\n\n      squarePatternBrush.getPatternSrc = function () {\n        var squareWidth = 10,\n            squareDistance = 2;\n        var patternCanvas = fabric.document.createElement('canvas');\n        patternCanvas.width = patternCanvas.height = squareWidth + squareDistance;\n        var ctx = patternCanvas.getContext('2d');\n        ctx.fillStyle = this.color;\n        ctx.fillRect(0, 0, squareWidth, squareWidth);\n        return patternCanvas;\n      };\n\n      var diamondPatternBrush = new fabric.PatternBrush(canvas);\n\n      diamondPatternBrush.getPatternSrc = function () {\n        var squareWidth = 10,\n            squareDistance = 5;\n        var patternCanvas = fabric.document.createElement('canvas');\n        var rect = new fabric.Rect({\n          width: squareWidth,\n          height: squareWidth,\n          angle: 45,\n          fill: this.color\n        });\n        var canvasWidth = rect.getBoundingRect().width;\n        patternCanvas.width = patternCanvas.height = canvasWidth + squareDistance;\n        rect.set({\n          left: canvasWidth / 2,\n          top: canvasWidth / 2\n        });\n        var ctx = patternCanvas.getContext('2d');\n        rect.render(ctx);\n        return patternCanvas;\n      };\n\n      var img = new Image();\n      img.src = '../assets/honey_im_subtle.png';\n      var texturePatternBrush = new fabric.PatternBrush(canvas);\n      texturePatternBrush.source = img;\n    }\n\n    $('drawing-mode-selector').onchange = function () {\n      if (this.value === 'hline') {\n        canvas.freeDrawingBrush = vLinePatternBrush;\n      } else if (this.value === 'vline') {\n        canvas.freeDrawingBrush = hLinePatternBrush;\n      } else if (this.value === 'square') {\n        canvas.freeDrawingBrush = squarePatternBrush;\n      } else if (this.value === 'diamond') {\n        canvas.freeDrawingBrush = diamondPatternBrush;\n      } else if (this.value === 'texture') {\n        canvas.freeDrawingBrush = texturePatternBrush;\n      } else {\n        canvas.freeDrawingBrush = new fabric[this.value + 'Brush'](canvas);\n      }\n\n      if (canvas.freeDrawingBrush) {\n        var brush = canvas.freeDrawingBrush;\n        brush.color = drawingColorEl.value;\n\n        if (brush.getPatternSrc) {\n          brush.source = brush.getPatternSrc.call(brush);\n        }\n\n        brush.width = parseInt(drawingLineWidthEl.value, 10) || 1;\n        brush.shadow = new fabric.Shadow({\n          blur: parseInt(drawingShadowWidth.value, 10) || 0,\n          offsetX: 0,\n          offsetY: 0,\n          affectStroke: true,\n          color: drawingShadowColorEl.value\n        });\n      }\n    };\n\n    drawingColorEl.onchange = function () {\n      var brush = canvas.freeDrawingBrush;\n      brush.color = this.value;\n\n      if (brush.getPatternSrc) {\n        brush.source = brush.getPatternSrc.call(brush);\n      }\n    };\n\n    drawingShadowColorEl.onchange = function () {\n      canvas.freeDrawingBrush.shadow.color = this.value;\n    };\n\n    drawingLineWidthEl.onchange = function () {\n      canvas.freeDrawingBrush.width = parseInt(this.value, 10) || 1;\n      this.previousSibling.innerHTML = this.value;\n    };\n\n    drawingShadowWidth.onchange = function () {\n      canvas.freeDrawingBrush.shadow.blur = parseInt(this.value, 10) || 0;\n      this.previousSibling.innerHTML = this.value;\n    };\n\n    drawingShadowOffset.onchange = function () {\n      canvas.freeDrawingBrush.shadow.offsetX = parseInt(this.value, 10) || 0;\n      canvas.freeDrawingBrush.shadow.offsetY = parseInt(this.value, 10) || 0;\n      this.previousSibling.innerHTML = this.value;\n    };\n\n    if (canvas.freeDrawingBrush) {\n      canvas.freeDrawingBrush.color = drawingColorEl.value;\n      canvas.freeDrawingBrush.source = canvas.freeDrawingBrush.getPatternSrc.call(this);\n      canvas.freeDrawingBrush.width = parseInt(drawingLineWidthEl.value, 10) || 1;\n      canvas.freeDrawingBrush.shadow = new fabric.Shadow({\n        blur: parseInt(drawingShadowWidth.value, 10) || 0,\n        offsetX: 0,\n        offsetY: 0,\n        affectStroke: true,\n        color: drawingShadowColorEl.value\n      });\n    }\n  })();\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"pen width\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        tyoe: \"range\",\n        onChange: e => e.target.value // value={penwidth}\n        ,\n        min: 3,\n        max: 30\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      id: \"canvas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this), \";\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 204,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/haleel/Downloads/Vidyalai font-end task/frontend-task/src/App.js"],"names":["useEffect","fabric","App","canvas","Canvas","setHeight","window","innerHeight","setWidth","innerWidth","isDrawingMode","freeDrawingBrush","width","color","$","id","document","getElementById","__canvas","Object","prototype","transparentCorners","drawingModeEl","drawingOptionsEl","drawingColorEl","drawingShadowColorEl","drawingLineWidthEl","drawingShadowWidth","drawingShadowOffset","clearEl","onclick","clear","innerHTML","style","display","PatternBrush","vLinePatternBrush","getPatternSrc","patternCanvas","createElement","height","ctx","getContext","strokeStyle","lineWidth","beginPath","moveTo","lineTo","closePath","stroke","hLinePatternBrush","squarePatternBrush","squareWidth","squareDistance","fillStyle","fillRect","diamondPatternBrush","rect","Rect","angle","fill","canvasWidth","getBoundingRect","set","left","top","render","img","Image","src","texturePatternBrush","source","onchange","value","brush","call","parseInt","shadow","Shadow","blur","offsetX","offsetY","affectStroke","previousSibling","e","target"],"mappings":"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","sourcesContent":["import \"./App.css\";\nimport { useEffect } from \"react\";\nimport { fabric } from \"fabric\";\n\nfunction App() {\n  useEffect(() => {\n    const canvas = new fabric.Canvas(\"canvas\");\n    canvas.setHeight(window.innerHeight);\n    canvas.setWidth(window.innerWidth);\n    canvas.isDrawingMode = true;\n    canvas.freeDrawingBrush.width = 3;\n    canvas.freeDrawingBrush.color = \"#0052cc\";\n  }, []);\n  (function() {\n    var $ = function(id){return document.getElementById(id)};\n  \n    var canvas = this.__canvas = new fabric.Canvas('c', {\n      isDrawingMode: true\n    });\n  \n    fabric.Object.prototype.transparentCorners = false;\n  \n    var drawingModeEl = $('drawing-mode'),\n        drawingOptionsEl = $('drawing-mode-options'),\n        drawingColorEl = $('drawing-color'),\n        drawingShadowColorEl = $('drawing-shadow-color'),\n        drawingLineWidthEl = $('drawing-line-width'),\n        drawingShadowWidth = $('drawing-shadow-width'),\n        drawingShadowOffset = $('drawing-shadow-offset'),\n        clearEl = $('clear-canvas');\n  \n    clearEl.onclick = function() { canvas.clear() };\n  \n    drawingModeEl.onclick = function() {\n      canvas.isDrawingMode = !canvas.isDrawingMode;\n      if (canvas.isDrawingMode) {\n        drawingModeEl.innerHTML = 'Cancel drawing mode';\n        drawingOptionsEl.style.display = '';\n      }\n      else {\n        drawingModeEl.innerHTML = 'Enter drawing mode';\n        drawingOptionsEl.style.display = 'none';\n      }\n    };\n  \n    if (fabric.PatternBrush) {\n      var vLinePatternBrush = new fabric.PatternBrush(canvas);\n      vLinePatternBrush.getPatternSrc = function() {\n  \n        var patternCanvas = fabric.document.createElement('canvas');\n        patternCanvas.width = patternCanvas.height = 10;\n        var ctx = patternCanvas.getContext('2d');\n  \n        ctx.strokeStyle = this.color;\n        ctx.lineWidth = 5;\n        ctx.beginPath();\n        ctx.moveTo(0, 5);\n        ctx.lineTo(10, 5);\n        ctx.closePath();\n        ctx.stroke();\n  \n        return patternCanvas;\n      };\n  \n      var hLinePatternBrush = new fabric.PatternBrush(canvas);\n      hLinePatternBrush.getPatternSrc = function() {\n  \n        var patternCanvas = fabric.document.createElement('canvas');\n        patternCanvas.width = patternCanvas.height = 10;\n        var ctx = patternCanvas.getContext('2d');\n  \n        ctx.strokeStyle = this.color;\n        ctx.lineWidth = 5;\n        ctx.beginPath();\n        ctx.moveTo(5, 0);\n        ctx.lineTo(5, 10);\n        ctx.closePath();\n        ctx.stroke();\n  \n        return patternCanvas;\n      };\n  \n      var squarePatternBrush = new fabric.PatternBrush(canvas);\n      squarePatternBrush.getPatternSrc = function() {\n  \n        var squareWidth = 10, squareDistance = 2;\n  \n        var patternCanvas = fabric.document.createElement('canvas');\n        patternCanvas.width = patternCanvas.height = squareWidth + squareDistance;\n        var ctx = patternCanvas.getContext('2d');\n  \n        ctx.fillStyle = this.color;\n        ctx.fillRect(0, 0, squareWidth, squareWidth);\n  \n        return patternCanvas;\n      };\n  \n      var diamondPatternBrush = new fabric.PatternBrush(canvas);\n      diamondPatternBrush.getPatternSrc = function() {\n  \n        var squareWidth = 10, squareDistance = 5;\n        var patternCanvas = fabric.document.createElement('canvas');\n        var rect = new fabric.Rect({\n          width: squareWidth,\n          height: squareWidth,\n          angle: 45,\n          fill: this.color\n        });\n  \n        var canvasWidth = rect.getBoundingRect().width;\n  \n        patternCanvas.width = patternCanvas.height = canvasWidth + squareDistance;\n        rect.set({ left: canvasWidth / 2, top: canvasWidth / 2 });\n  \n        var ctx = patternCanvas.getContext('2d');\n        rect.render(ctx);\n  \n        return patternCanvas;\n      };\n  \n      var img = new Image();\n      img.src = '../assets/honey_im_subtle.png';\n  \n      var texturePatternBrush = new fabric.PatternBrush(canvas);\n      texturePatternBrush.source = img;\n    }\n  \n    $('drawing-mode-selector').onchange = function() {\n  \n      if (this.value === 'hline') {\n        canvas.freeDrawingBrush = vLinePatternBrush;\n      }\n      else if (this.value === 'vline') {\n        canvas.freeDrawingBrush = hLinePatternBrush;\n      }\n      else if (this.value === 'square') {\n        canvas.freeDrawingBrush = squarePatternBrush;\n      }\n      else if (this.value === 'diamond') {\n        canvas.freeDrawingBrush = diamondPatternBrush;\n      }\n      else if (this.value === 'texture') {\n        canvas.freeDrawingBrush = texturePatternBrush;\n      }\n      else {\n        canvas.freeDrawingBrush = new fabric[this.value + 'Brush'](canvas);\n      }\n  \n      if (canvas.freeDrawingBrush) {\n        var brush = canvas.freeDrawingBrush;\n        brush.color = drawingColorEl.value;\n        if (brush.getPatternSrc) {\n          brush.source = brush.getPatternSrc.call(brush);\n        }\n        brush.width = parseInt(drawingLineWidthEl.value, 10) || 1;\n        brush.shadow = new fabric.Shadow({\n          blur: parseInt(drawingShadowWidth.value, 10) || 0,\n          offsetX: 0,\n          offsetY: 0,\n          affectStroke: true,\n          color: drawingShadowColorEl.value,\n        });\n      }\n    };\n  \n    drawingColorEl.onchange = function() {\n      var brush = canvas.freeDrawingBrush;\n      brush.color = this.value;\n      if (brush.getPatternSrc) {\n        brush.source = brush.getPatternSrc.call(brush);\n      }\n    };\n    drawingShadowColorEl.onchange = function() {\n      canvas.freeDrawingBrush.shadow.color = this.value;\n    };\n    drawingLineWidthEl.onchange = function() {\n      canvas.freeDrawingBrush.width = parseInt(this.value, 10) || 1;\n      this.previousSibling.innerHTML = this.value;\n    };\n    drawingShadowWidth.onchange = function() {\n      canvas.freeDrawingBrush.shadow.blur = parseInt(this.value, 10) || 0;\n      this.previousSibling.innerHTML = this.value;\n    };\n    drawingShadowOffset.onchange = function() {\n      canvas.freeDrawingBrush.shadow.offsetX = parseInt(this.value, 10) || 0;\n      canvas.freeDrawingBrush.shadow.offsetY = parseInt(this.value, 10) || 0;\n      this.previousSibling.innerHTML = this.value;\n    };\n  \n    if (canvas.freeDrawingBrush) {\n      canvas.freeDrawingBrush.color = drawingColorEl.value;\n      canvas.freeDrawingBrush.source = canvas.freeDrawingBrush.getPatternSrc.call(this);\n      canvas.freeDrawingBrush.width = parseInt(drawingLineWidthEl.value, 10) || 1;\n      canvas.freeDrawingBrush.shadow = new fabric.Shadow({\n        blur: parseInt(drawingShadowWidth.value, 10) || 0,\n        offsetX: 0,\n        offsetY: 0,\n        affectStroke: true,\n        color: drawingShadowColorEl.value,\n      });\n    }\n  })();\n  return (\n    <div>\n      <div>\n        <label>pen width</label>\n        <input\n          tyoe=\"range\"\n          onChange={(e) => e.target.value}\n          // value={penwidth}\n          min={3}\n          max={30}\n        />\n      </div>\n      <canvas id=\"canvas\" />;\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}